Create Or Replace View T_COMPANY
(
	COMP_CODE,
	CRTUSERNO,
	CRTDATE,
	MODUSERNO,
	MODDATE,
	BIZNO,
	COMPANY_NAME,
	HEAD_BRANCH_CLS,
	HEAD_COMP_CODE,
	BIZNO2,
	OPEN_DT,
	BOSS,
	BOSS_NO,
	BIZCOND,
	BIZKND,
	TELNO,
	BIZPLACE_ZIPCODE,
	BIZPLACE_ADDR1,
	BIZPLACE_ADDR2,
	HEADOFF_ZIPCODE,
	HEADOFF_ADDR1,
	HEADOFF_ADDR2,
	TAX_OFFICE_NAME,
	BUDG_DIVERT_CLS,
	BUDG_TRANS_CLS,
	ACCOUNT_CURR,
	ACCOUNT_FDT,
	ACCOUNT_EDT,
	DEPT_CODE,
	FIN_DEPT_CODE,
	ACC_DEPT_CODE,
	COMPANY_ACC_CODE,
	VAT_RETURN_ACCNO
)
As
Select
	a.COMP_CODE ,
	a.CRTUSERNO ,
	a.CRTDATE ,
	a.MODUSERNO ,
	a.MODDATE ,
	a.BIZNO ,
	a.COMPANY_NAME ,
	a.HEAD_BRANCH_CLS ,
	a.HEAD_COMP_CODE ,
	a.BIZNO2 ,
	a.OPEN_DT ,
	a.BOSS ,
	a.BOSS_NO ,
	a.BIZCOND ,
	a.BIZKND ,
	a.TELNO ,
	a.BIZPLACE_ZIPCODE ,
	a.BIZPLACE_ADDR1 ,
	a.BIZPLACE_ADDR2 ,
	a.HEADOFF_ZIPCODE ,
	a.HEADOFF_ADDR1 ,
	a.HEADOFF_ADDR2 ,
	a.TAX_OFFICE_NAME ,
	a.BUDG_DIVERT_CLS ,
	a.BUDG_TRANS_CLS ,
	a.ACCOUNT_CURR ,
	a.ACCOUNT_FDT ,
	a.ACCOUNT_EDT ,
	a.DEPT_CODE,
	a.FIN_DEPT_CODE,
	a.ACC_DEPT_CODE,
	a.COMPANY_ACC_CODE,
	a.VAT_RETURN_ACCNO
From T_COMPANY_ORG a
/
Create Or Replace Trigger trg_T_COMPANY
Instead Of Insert Or Update Or Delete On T_COMPANY
For Each Row
Begin
	If Inserting Then
		Insert Into T_COMPANY_ORG
		(
			COMP_CODE,
			CRTUSERNO,
			CRTDATE,
			MODUSERNO,
			MODDATE,
			BIZNO,
			COMPANY_NAME,
			HEAD_BRANCH_CLS,
			HEAD_COMP_CODE,
			BIZNO2,
			OPEN_DT,
			BOSS,
			BOSS_NO,
			BIZCOND,
			BIZKND,
			TELNO,
			BIZPLACE_ZIPCODE,
			BIZPLACE_ADDR1,
			BIZPLACE_ADDR2,
			HEADOFF_ZIPCODE,
			HEADOFF_ADDR1,
			HEADOFF_ADDR2,
			TAX_OFFICE_NAME,
			BUDG_DIVERT_CLS,
			BUDG_TRANS_CLS,
			ACCOUNT_CURR,
			ACCOUNT_FDT,
			ACCOUNT_EDT,
			DEPT_CODE,
			FIN_DEPT_CODE,
			ACC_DEPT_CODE,
			COMPANY_ACC_CODE,
			VAT_RETURN_ACCNO
		)
		Values
		(
			:New.COMP_CODE,
			:New.CRTUSERNO,
			:New.CRTDATE,
			:New.MODUSERNO,
			:New.MODDATE,
			:New.BIZNO,
			:New.COMPANY_NAME,
			:New.HEAD_BRANCH_CLS,
			:New.HEAD_COMP_CODE,
			:New.BIZNO2,
			:New.OPEN_DT,
			:New.BOSS,
			:New.BOSS_NO,
			:New.BIZCOND,
			:New.BIZKND,
			:New.TELNO,
			:New.BIZPLACE_ZIPCODE,
			:New.BIZPLACE_ADDR1,
			:New.BIZPLACE_ADDR2,
			:New.HEADOFF_ZIPCODE,
			:New.HEADOFF_ADDR1,
			:New.HEADOFF_ADDR2,
			:New.TAX_OFFICE_NAME,
			:New.BUDG_DIVERT_CLS,
			:New.BUDG_TRANS_CLS,
			:New.ACCOUNT_CURR,
			:New.ACCOUNT_FDT,
			:New.ACCOUNT_EDT,
			:New.DEPT_CODE,
			:New.FIN_DEPT_CODE,
			:New.ACC_DEPT_CODE,
			:New.COMPANY_ACC_CODE,
			:New.VAT_RETURN_ACCNO
		);
	ElsIf Updating Then
		Update	T_COMPANY_ORG
		Set
			CRTUSERNO			=	:New.CRTUSERNO,
			CRTDATE				=	:New.CRTDATE,
			MODUSERNO			=	:New.MODUSERNO,
			MODDATE				=	:New.MODDATE,
			BIZNO				=	:New.BIZNO,
			COMPANY_NAME		=	:New.COMPANY_NAME,
			HEAD_BRANCH_CLS		=	:New.HEAD_BRANCH_CLS,
			HEAD_COMP_CODE		=	:New.HEAD_COMP_CODE,
			BIZNO2				=	:New.BIZNO2,
			OPEN_DT				=	:New.OPEN_DT,
			BOSS				=	:New.BOSS,
			BOSS_NO				=	:New.BOSS_NO,
			BIZCOND				=	:New.BIZCOND,
			BIZKND				=	:New.BIZKND,
			TELNO				=	:New.TELNO,
			BIZPLACE_ZIPCODE	=	:New.BIZPLACE_ZIPCODE,
			BIZPLACE_ADDR1		=	:New.BIZPLACE_ADDR1,
			BIZPLACE_ADDR2		=	:New.BIZPLACE_ADDR2,
			HEADOFF_ZIPCODE		=	:New.HEADOFF_ZIPCODE,
			HEADOFF_ADDR1		=	:New.HEADOFF_ADDR1,
			HEADOFF_ADDR2		=	:New.HEADOFF_ADDR2,
			TAX_OFFICE_NAME		=	:New.TAX_OFFICE_NAME,
			BUDG_DIVERT_CLS		=	:New.BUDG_DIVERT_CLS,
			BUDG_TRANS_CLS		=	:New.BUDG_TRANS_CLS,
			ACCOUNT_CURR		=	:New.ACCOUNT_CURR,
			ACCOUNT_FDT			=	:New.ACCOUNT_FDT,
			ACCOUNT_EDT			=	:New.ACCOUNT_EDT,
			DEPT_CODE			=	:New.DEPT_CODE,
			FIN_DEPT_CODE		=	:New.FIN_DEPT_CODE,
			ACC_DEPT_CODE		=	:New.ACC_DEPT_CODE,
			COMPANY_ACC_CODE	=	:New.COMPANY_ACC_CODE,
			VAT_RETURN_ACCNO	=	:New.VAT_RETURN_ACCNO
		Where	COMP_CODE = :Old.COMP_CODE;
	ElsIf Deleting Then
		Delete	T_COMPANY_ORG
		Where	COMP_CODE = :Old.COMP_CODE;
	End If;
End;
/
